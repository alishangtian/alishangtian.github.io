<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>jps speed</title>
</head>

<body>
    <p id="demo"></p>
    <button onclick="getLocation()">click</button>
    <script>
        var p = document.getElementById("demo");
        function getLocation() {
            var options = {
                enableHighAccuracy: true,
                maximumAge: 100
            }
            if (navigator.geolocation) {
                // navigator.geolocation.getCurrentPosition(onSuccess, onError, options);
                navigator.geolocation.watchPosition(showPosition);
            } else {
                alert("not support geolocation");
            }
        }
        function showPosition(pos) {
            p.innerHTML("latitude: " + pos.coords.longitude +
                "longitude: " + pos.coords.latitude)
        }
        function onError(error) {
            switch (error.code) {
                case 1:
                    p.innerHTML("location deny");
                    break;
                case 2:
                    p.innerHTML("can not get location");
                    break;
                case 3:
                    p.innerHTML("time out");
                    break;
                case 4:
                    p.innerHTML("unknown error");
                    break;
            }
        }
    </script>
</body>

</html>